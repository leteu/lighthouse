"use strict";(self["webpackChunkchat_quasar"]=self["webpackChunkchat_quasar"]||[]).push([[646],{2646:(e,t,i)=>{i.r(t),i.d(t,{default:()=>S});var s=i(3673);const h={id:"container"},a={class:"height-full full-width flex items-center justify-center"};function r(e,t,i,r,o,l){const n=(0,s.up)("SnakeComponentVue");return(0,s.wg)(),(0,s.iD)("div",h,[(0,s._)("div",a,[(0,s.Wm)(n)])])}const o={id:"gc"};function l(e,t,i,h,a,r){const l=(0,s.Q2)("touch-swipe");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("canvas",o,null,512)),[[l,e.touchSwipe]])}let n,d,c;const y=1,v=(0,s.aZ)({data(){return{size:15,player:{x:15,y:15},score:{x:15,y:15},move:{x:0,y:0},trailArr:[],tail:y,gameStatus:!1,max:{width:0,height:0}}},mounted(){n=document.getElementById("gc"),d=n.getContext("2d"),this.addEvent(),this.resetSize(),this.resetMap()},beforeUnmount(){this.removeEvent()},methods:{addEvent(){window.addEventListener("resize",this.resetSize),document.addEventListener("keydown",this.keyPush),n.addEventListener("click",this.startGame)},removeEvent(){window.removeEventListener("resize",this.resetSize),document.removeEventListener("keydown",this.keyPush),n.removeEventListener("click",this.startGame),clearInterval(c)},resetSize(){var e,t,i,s;window.innerWidth<=768?(n.width=15*Math.floor((null===(e=null===n||void 0===n?void 0:n.parentElement)||void 0===e?void 0:e.offsetWidth)/15),n.height=15*Math.floor((null===(t=null===n||void 0===n?void 0:n.parentElement)||void 0===t?void 0:t.offsetHeight)/15)):(n.width=15*Math.floor((null===(i=null===n||void 0===n?void 0:n.parentElement)||void 0===i?void 0:i.offsetWidth)/15)-30,n.height=15*Math.floor((null===(s=null===n||void 0===n?void 0:n.parentElement)||void 0===s?void 0:s.offsetHeight)/15)-30),this.max={width:n.width/this.size-1,height:n.height/this.size-1},this.resetMap()},startGame(){this.gameStatus||(this.move={x:1,y:0},c=setInterval(this.game,500/15),this.gameStatus=!0)},resetMap(){d.fillStyle="black",d.fillRect(0,0,n.width,n.height)},getScorePosition(){const e={x:Math.floor(Math.random()*(n.width/15-1)),y:Math.floor(Math.random()*(n.height/15-1))};return e},game(){this.player.x+=this.move.x,this.player.y+=this.move.y,this.player.x<0&&(this.player.x=this.max.width),this.player.x>this.max.width&&(this.player.x=0),this.player.y<0&&(this.player.y=this.max.height),this.player.y>this.max.height&&(this.player.y=0),this.resetMap(),this.score.x===this.player.x&&this.score.y===this.player.y&&(this.tail++,this.$data.score=this.getScorePosition()),d.fillStyle="red",d.fillRect(this.score.x*this.size,this.score.y*this.size,this.size-2,this.size-2),d.fillStyle="lime",this.trailArr.forEach(((e,t)=>{d.fillRect(e.x*this.size,e.y*this.size,this.size-2,this.size-2),e.x===this.player.x&&e.y===this.player.y&&(this.gameStatus=!1,alert(`게임 오버 \n 기록 : ${this.tail}`),clearInterval(c),this.tail=y,this.resetMap())})),this.trailArr.push({x:this.player.x,y:this.player.y});while(this.trailArr.length>this.tail)this.trailArr.shift();d.font="15px Arial",d.fillStyle="white",d.textAlign="right",d.fillText(`Score: ${this.tail}`,n.width-9,20)},keyPush(e){switch(e.keyCode){case 65:case 37:this.move={x:-1,y:0};break;case 87:case 38:this.move={x:0,y:-1};break;case 68:case 39:this.move={x:1,y:0};break;case 83:case 40:this.move={x:0,y:1};break}},touchSwipe({direction:e}){switch(e){case"left":this.move={x:-1,y:0};break;case"up":this.move={x:0,y:-1};break;case"right":this.move={x:1,y:0};break;case"down":this.move={x:0,y:1};break}}}});var m=i(4260),u=i(1561),p=i(7518),x=i.n(p);const f=(0,m.Z)(v,[["render",l]]),w=f;x()(v,"directives",{TouchSwipe:u.Z});const g=(0,s.aZ)({components:{SnakeComponentVue:w}}),k=(0,m.Z)(g,[["render",r]]),S=k}}]);